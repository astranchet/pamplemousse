{% if current_date is not defined %}
    {% set current_date = { month: null, year: null } %}
{% endif %}
<div id="filters">
    <div>
        Afficher&nbsp;: 
        <ul>
            {% set filter = app.request.query.get('filter') %}
            <li class="{% if not filter and not current_date %}current{% endif %}"><a href="{{ url('index') }}#photos">Tout</a></li>
            {% for id, tag in app.config.tags %}
                <li class="{% if filter == id %}current{% endif %}">
                    <a href="{{ url('index', { 'filter': id }) }}#photos">{{ tag }}</a>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div>
        Par date&nbsp;:
        <ul>
            {% for year, months in app.photos.dates %}
                <li class="filter-year">{{ year }}
                    <ul class="months">
                    {% for month in months %}
                        <li class="{% if month == current_date.month and year == current_date.year %}current{% endif %}">
                            <a href="{{ url('date', { 'year' : year, 'month': month }) }}#photos">{{ month }}</a>
                        </li>
                    {% endfor %}
                </li>
                </ul>
            {% endfor %}
        </ul>
    </div>
</div>
